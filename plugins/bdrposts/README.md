# üöÄ Guia de Instala√ß√£o R√°pida - BDRPosts

## ‚ö° Instala√ß√£o em 3 Passos

### 1Ô∏è‚É£ Upload dos Arquivos

Estrutura de pastas necess√°ria:

```
wp-content/
‚îî‚îÄ‚îÄ plugins/
    ‚îî‚îÄ‚îÄ bdrposts/
        ‚îú‚îÄ‚îÄ bdrposts.php          ‚Üê Arquivo principal
        ‚îú‚îÄ‚îÄ uninstall.php         ‚Üê Script de desinstala√ß√£o
        ‚îú‚îÄ‚îÄ README.md             ‚Üê Documenta√ß√£o
        ‚îî‚îÄ‚îÄ build/                ‚Üê Assets compilados
            ‚îú‚îÄ‚îÄ index.js          ‚Üê Editor JS
            ‚îú‚îÄ‚îÄ frontend.js       ‚Üê Frontend JS
            ‚îú‚îÄ‚îÄ style.css         ‚Üê Frontend CSS
            ‚îî‚îÄ‚îÄ editor.css        ‚Üê Editor CSS
```

### 2Ô∏è‚É£ Ativa√ß√£o

1. Acesse **WordPress Admin ‚Üí Plugins**
2. Localize **BDRPosts**
3. Clique em **Ativar**
4. ‚úÖ Pronto! O bloco est√° dispon√≠vel

### 3Ô∏è‚É£ Primeiro Uso

1. Edite uma p√°gina/post
2. Clique no **+** para adicionar bloco
3. Busque por **"BDR Posts"**
4. Configure e publique!

---

## üìã Checklist de Verifica√ß√£o

Ap√≥s instalar, verifique:

- [ ] Plugin aparece na lista de plugins ativos
- [ ] Bloco "BDR Posts" dispon√≠vel no editor
- [ ] Preview funciona no editor
- [ ] Posts aparecem no frontend
- [ ] Estilos carregados corretamente
- [ ] Slider funciona (se usar layout slider)

---

## üîß Configura√ß√£o Inicial Recomendada

### Configura√ß√µes B√°sicas

```php
Layout: Grid
Colunas: 3
Posts por p√°gina: 6
Ordenar por: Data
Ordem: DESC (mais recentes primeiro)
```

### Elementos Visuais

```php
‚úÖ Imagem Destacada: Sim
‚úÖ Tamanho: Medium
‚úÖ T√≠tulo: Sim
‚úÖ Resumo: Sim (20 palavras)
‚úÖ Bot√£o Ler Mais: Sim
```

### Meta Informa√ß√µes

```php
‚úÖ Data: Sim
‚úÖ Autor: Sim
‚úÖ Categorias: Sim
‚ùå Tags: N√£o
‚ùå Tempo de Leitura: N√£o
```

---

## üéØ Casos de Uso Comuns

### Blog/Not√≠cias

```
Layout: Grid
Colunas: 3
Posts: 9
Mostrar: Imagem, T√≠tulo, Data, Autor, Resumo
```

### Portfolio

```
Layout: Masonry
Colunas: 3
Posts: 12
Mostrar: Apenas Imagem e T√≠tulo
Sub-layout: Overlay
```

### √öltimas Atualiza√ß√µes

```
Layout: Ticker
Posts: 10
Mostrar: Apenas T√≠tulos
```

### Destaque Principal

```
Layout: Slider
Posts: 5
Colunas: 1 (autom√°tico)
Mostrar: Tudo
```

---

## ‚öôÔ∏è Configura√ß√µes Avan√ßadas

### Filtrar por Categoria

```php
// Via Bloco: Adicione IDs nas configura√ß√µes
// Via Shortcode:
[bdrposts categories="5,8,12"]
```

### Posts Aleat√≥rios

```php
Ordenar Por: Random (rand)
```

### Excluir Post Atual

```php
// √ötil em single.php
Excluir Post Atual: ‚úÖ Sim
```

### Pagina√ß√£o

```php
// Para listas longas
Ativar Pagina√ß√£o: ‚úÖ Sim
Posts por P√°gina: 12
```

---

## üé® Personaliza√ß√µes R√°pidas

### Mudar Cores

Adicione no **Apar√™ncia ‚Üí Personalizar ‚Üí CSS Adicional**:

```css
/* Cor prim√°ria */
.bdrposts-read-more {
    background: #seu-cor !important;
}

.bdrposts-title a:hover {
    color: #seu-cor !important;
}

/* Bordas dos cards */
.bdrposts-item:hover {
    border-color: #seu-cor !important;
}
```

### Ajustar Espa√ßamento

```css
/* Espa√ßo entre cards */
.bdrposts-grid {
    gap: 40px !important;
}

/* Padding interno */
.bdrposts-content {
    padding: 30px !important;
}
```

### Fonte Personalizada

```css
.bdrposts-title {
    font-family: 'Sua Fonte', sans-serif;
    font-size: 24px;
}
```

---

## üêõ Solu√ß√£o R√°pida de Problemas

### Bloco n√£o aparece

```bash
1. Limpe cache (Ctrl+Shift+Delete)
2. Desative/Reative o plugin
3. Teste em modo an√¥nimo
```

### Estilos quebrados

```bash
1. Verifique se arquivos existem em /build/
2. Limpe cache do site
3. Force refresh: Ctrl+F5
```

### Slider n√£o funciona

```bash
1. Abra Console (F12)
2. Procure por erros do Swiper
3. Desative outros plugins temporariamente
```

### Posts n√£o aparecem

```bash
1. Verifique: Tem posts publicados?
2. Remova filtros de categoria/tag
3. Aumente "Posts por P√°gina"
```

---

## üìû Precisa de Ajuda?

### Recursos Dispon√≠veis

- üìñ **README.md** - Documenta√ß√£o completa
- üí¨ **Issues GitHub** - Reporte bugs
- üìß **Email** - Suporte direto
- üé• **V√≠deos** - Tutoriais (em breve)

### Antes de Pedir Ajuda

Tenha em m√£os:
- ‚úÖ Vers√£o do WordPress
- ‚úÖ Vers√£o do PHP
- ‚úÖ Tema ativo
- ‚úÖ Lista de plugins ativos
- ‚úÖ Mensagens de erro (se houver)
- ‚úÖ Screenshots do problema

---

## üéì Pr√≥ximos Passos

Ap√≥s instala√ß√£o bem-sucedida:

1. ‚úÖ Experimente todos os 4 layouts
2. ‚úÖ Teste os 5 sub-layouts
3. ‚úÖ Configure filtros personalizados
4. ‚úÖ Personalize cores e fontes
5. ‚úÖ Teste em mobile
6. ‚úÖ Compartilhe seu feedback!

---

## ‚≠ê Dica Pro

Crie v√°rios blocos com configura√ß√µes diferentes:

```
Bloco 1: Posts Recentes (Grid 3 colunas)
Bloco 2: Destaque (Slider)
Bloco 3: √öltimas Not√≠cias (Ticker)
Bloco 4: Portfolio (Masonry)
```

Isso cria uma homepage din√¢mica e profissional! üöÄ

---

**Instala√ß√£o conclu√≠da! Agora √© s√≥ criar conte√∫do incr√≠vel! üéâ**

# üîß Guia de Corre√ß√£o - BDRPosts v1.0.1

## üêõ Problemas Corrigidos

### 1. **Sele√ß√£o de Categorias e Tags**
- ‚úÖ Adicionadas rotas REST API para buscar categorias e tags
- ‚úÖ Implementado sistema de checkboxes no editor
- ‚úÖ Corre√ß√£o na valida√ß√£o de arrays vazios

### 2. **Compatibilidade com Twenty Twenty-Five**
- ‚úÖ Corrigida depend√™ncia do ServerSideRender
- ‚úÖ Adicionado fallback para temas que n√£o suportam todas as features
- ‚úÖ Melhorada a renderiza√ß√£o no editor

### 3. **Preview no Editor**
- ‚úÖ ServerSideRender agora funciona corretamente
- ‚úÖ Adicionado estado de loading
- ‚úÖ Fallback quando preview n√£o est√° dispon√≠vel

---

## üì¶ Arquivos Modificados

### 1. `bdrposts.php` (Arquivo Principal)

**Principais mudan√ßas:**

```php
// ‚úÖ Nova vers√£o
define('BDRPOSTS_VERSION', '1.0.1');

// ‚úÖ Novas rotas REST API
- /bdrposts/v1/categories (GET)
- /bdrposts/v1/tags (GET)  
- /bdrposts/v1/terms/{taxonomy} (GET)

// ‚úÖ Melhorias na valida√ß√£o de arrays
- Verifica√ß√£o de arrays vazios antes de usar
- Valida√ß√£o com count() > 0

// ‚úÖ Corre√ß√£o no enqueue de scripts
- Adicionado 'wp-server-side-render' nas depend√™ncias
- Melhor fallback para temas incompat√≠veis
```

### 2. `build/index.js` (Editor JavaScript)

**Principais mudan√ßas:**

```javascript
// ‚úÖ Novos estados para dados din√¢micos
const [categories, setCategories] = useState([]);
const [tags, setTags] = useState([]);
const [taxonomyTerms, setTaxonomyTerms] = useState([]);

// ‚úÖ Checkboxes para categorias
categories.map(cat => 
    wp.element.createElement(CheckboxControl, {
        label: cat.label,
        checked: attributes.categories.includes(cat.value),
        onChange: (checked) => { /* toggle */ }
    })
)

// ‚úÖ Melhor tratamento do ServerSideRender
const { ServerSideRender } = wp.serverSideRender || wp.editor || { ServerSideRender: null };

// ‚úÖ Estado de loading
const [loading, setLoading] = useState(true);
```

---

## üöÄ Instru√ß√µes de Instala√ß√£o

### Passo 1: Backup

```bash
# Fa√ßa backup dos arquivos atuais
cp -r wp-content/plugins/bdrposts wp-content/plugins/bdrposts-backup
```

### Passo 2: Substituir Arquivos

Substitua os seguintes arquivos:

1. **`bdrposts.php`** - Arquivo principal do plugin
2. **`build/index.js`** - JavaScript do editor

### Passo 3: Limpar Cache

```bash
# WordPress
1. V√° em Plugins ‚Üí Desativar BDRPosts
2. Ativar novamente
3. Limpar cache do navegador (Ctrl+Shift+Delete)
4. Recarregar editor (Ctrl+F5)

# Se usar cache de objeto
wp cache flush
```

### Passo 4: Verifica√ß√£o

Ap√≥s atualizar, verifique:

- [ ] Vers√£o do plugin √© 1.0.1
- [ ] Checkboxes de categorias aparecem
- [ ] Checkboxes de tags aparecem
- [ ] Preview funciona no editor
- [ ] Posts aparecem no frontend
- [ ] Filtros por categoria funcionam

---

## üß™ Testes Recomendados

### Teste 1: Filtro por Categoria

```
1. Abra o editor de uma p√°gina
2. Adicione bloco BDR Posts
3. Na barra lateral ‚Üí Filtros
4. Marque 2-3 categorias
5. Verifique se apenas posts dessas categorias aparecem
```

### Teste 2: Filtro por Tags

```
1. No mesmo bloco
2. V√° em Filtros ‚Üí Tags
3. Selecione algumas tags
4. Verifique se filtragem funciona
```

### Teste 3: Preview no Editor

```
1. Ao adicionar o bloco, o preview deve carregar
2. Ao mudar configura√ß√µes, preview deve atualizar
3. N√£o deve mostrar erros no console (F12)
```

### Teste 4: Tema Twenty Twenty-Five

```
1. Ative o tema Twenty Twenty-Five
2. Crie nova p√°gina com o bloco
3. Verifique se renderiza corretamente
4. Publique e veja no frontend
```

---

## üîç Solu√ß√£o de Problemas Comuns

### Problema: Checkboxes n√£o aparecem

**Solu√ß√£o:**
```javascript
// Verifique no console do navegador (F12):
console.log(bdrpostsData);

// Deve retornar:
{
  restUrl: "https://seusite.com/wp-json/bdrposts/v1/",
  nonce: "abc123...",
  pluginUrl: "https://seusite.com/wp-content/plugins/bdrposts/"
}
```

Se n√£o aparecer, verifique:
1. Plugin est√° ativo
2. Permalinks est√£o configuradas (Configura√ß√µes ‚Üí Links permanentes ‚Üí Salvar)
3. REST API est√° funcionando: `/wp-json/bdrposts/v1/categories`

### Problema: Erro "ServerSideRender is not defined"

**Solu√ß√£o:**
O c√≥digo corrigido j√° tem fallback. Se ainda ocorrer:

```javascript
// Adicione no functions.php do tema:
add_action('enqueue_block_editor_assets', function() {
    wp_enqueue_script('wp-server-side-render');
});
```

### Problema: Posts n√£o aparecem no frontend

**Solu√ß√£o:**
```php
// Ative debug no wp-config.php:
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);

// Verifique o log em: wp-content/debug.log
```

Verifique:
1. H√° posts publicados?
2. Categorias/tags existem?
3. IDs est√£o corretos?

### Problema: Preview n√£o atualiza

**Solu√ß√£o:**
```bash
# Limpe cache agressivamente:
1. Desative plugins de cache
2. Ctrl+Shift+Delete (limpar tudo)
3. Modo an√¥nimo do navegador
4. Recarregar editor
```

---

## üìä Compara√ß√£o de Vers√µes

| Feature | v1.0.0 | v1.0.1 |
|---------|--------|--------|
| Filtro Categorias | ‚ùå Campo texto | ‚úÖ Checkboxes |
| Filtro Tags | ‚ùå Campo texto | ‚úÖ Checkboxes |
| Preview Editor | ‚ö†Ô∏è Parcial | ‚úÖ Completo |
| Twenty Twenty-Five | ‚ùå Erro | ‚úÖ Funciona |
| REST API | ‚ö†Ô∏è B√°sica | ‚úÖ Completa |
| Taxonomias Custom | ‚ùå N√£o | ‚úÖ Com termos |

---

## üéØ Novos Recursos Adicionados

### 1. API REST Expandida

```http
GET /wp-json/bdrposts/v1/categories
GET /wp-json/bdrposts/v1/tags
GET /wp-json/bdrposts/v1/terms/{taxonomy}
```

**Exemplo de resposta:**
```json
[
  {
    "value": 5,
    "label": "Tecnologia (12)"
  },
  {
    "value": 8,
    "label": "Design (7)"
  }
]
```

### 2. Sele√ß√£o Visual de Filtros

Antes:
```
IDs de Categorias: [5,8,12]
```

Agora:
```
‚òë Tecnologia (12)
‚òë Design (7)
‚òê Marketing (3)
```

### 3. Valida√ß√£o Aprimorada

```php
// Antes
if (!empty($attributes['categories'])) {
    // Erro se array vazio []
}

// Agora  
if (!empty($attributes['categories']) && count($attributes['categories']) > 0) {
    // Funciona corretamente
}
```

---

## üìù Notas de Atualiza√ß√£o

### Compatibilidade

- ‚úÖ WordPress 5.8+
- ‚úÖ PHP 7.4+
- ‚úÖ Gutenberg Editor
- ‚úÖ Classic Editor (via shortcode)

### Temas Testados

- ‚úÖ Twenty Twenty-Five
- ‚úÖ Twenty Twenty-Four
- ‚úÖ Twenty Twenty-Three
- ‚úÖ Astra
- ‚úÖ GeneratePress
- ‚úÖ OceanWP

### Plugins Compat√≠veis

- ‚úÖ Yoast SEO
- ‚úÖ Rank Math
- ‚úÖ WooCommerce
- ‚úÖ Advanced Custom Fields
- ‚úÖ WPML

---

## üîê Seguran√ßa

### Melhorias de Seguran√ßa

1. **Valida√ß√£o de Permiss√µes**
```php
'permission_callback' => function() {
    return current_user_can('edit_posts');
}
```

2. **Sanitiza√ß√£o de Dados**
```php
// Todas as sa√≠das usam esc_*
esc_html(), esc_url(), esc_attr()
```

3. **Nonce Verificado**
```php
wp_localize_script('bdrposts-block-editor', 'bdrpostsData', array(
    'nonce' => wp_create_nonce('wp_rest')
));
```

---

## üí° Dicas de Uso

### Dica 1: Combine Filtros

```
Categorias: ‚òë Tech + ‚òë News
Tags: ‚òë Tutorial
‚Üí Mostra posts que t√™m (Tech OU News) E Tutorial
```

### Dica 2: Use Taxonomias Customizadas

```
1. Selecione Post Type customizado
2. Escolha Taxonomia (ex: "Portfolio Type")
3. Marque termos desejados
```

### Dica 3: Otimize Performance

```
Posts por P√°gina: 6-12 (ideal)
Tamanho Imagem: medium (melhor)
Pagina√ß√£o: Ative para muitos posts
```

---

## üìû Suporte

### Problemas Conhecidos

Nenhum no momento.

### Reportar Bugs

Se encontrar problemas:

1. Ative WP_DEBUG
2. Verifique console do navegador (F12)
3. Capture screenshot
4. Envie:
   - Vers√£o do WordPress
   - Vers√£o do PHP
   - Tema ativo
   - Mensagem de erro completa

---

## ‚ú® Pr√≥ximas Atualiza√ß√µes (v1.1.0)

- [ ] Filtro por autor (visual)
- [ ] Busca por palavra-chave
- [ ] Ordena√ß√£o por views
- [ ] Lazy loading de imagens
- [ ] Skeleton loading
- [ ] Cache inteligente

---

**Atualiza√ß√£o bem-sucedida! Aproveite o plugin corrigido! üéâ**